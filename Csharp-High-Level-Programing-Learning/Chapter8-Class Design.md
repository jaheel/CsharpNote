## Chapter 8 : Class Design

### 建议102：区分接口和抽象类的应用场合

接口、抽象类区别：

* 接口支持多继承，抽象类则不能
* 接口可以包含方法、属性、索引器、事件的签名，但不能有实现，抽象类则可以
* 接口在增加新方法后，所有的继承者都必须重构，否则编译不会通过，而抽象类则不需要



> 1）如果对象存在多个功能相近且关系紧密的版本，则使用抽象类
>
> 2）如果对象关系不紧密，但是若干功能拥有共同的声明，则使用接口
>
> 3）抽象类适合于提供丰富功能的场合，接口则更倾向于提供单一的一组功能



**接口一旦被设计出来，就应该是不变的。抽象基类则可以随着版本的升级，增加一些功能。**

**抽象类解决的是“Is a”，接口解决的是”Can do“。**



### 建议103：区分组合和继承的应用场合

继承：“Is a”；组合：”Has a“。



### 建议104：用多态代替条件语句

### 建议105：使用私有构造函数强化单例

### 建议106：为静态类添加静态构造函数

### 建议107：区分静态类和单例

### 建议108：将类型标识为sealed

sealed能够阻止类型被其他类型继承

sealed能够有效控制继承的深度。一个类型如果确信没有必要被继承，应该及时将其变为密封类。

### 建议109：谨慎使用嵌套类

使用嵌套类原则：当某类型需要方位另一个类型的私有成员时，才将它实现为嵌套类。

### 建议110：用类来代替 enum

枚举最大的优点：类型是值类型。相比较引用类型而言，它可以在关键算法中提升性能，因为它不需要创建在“堆”中。不考虑这因素，我们可以用类（引用类型）来代替枚举。

### 建议111：避免双向耦合

### 建议112：将现实世界中的对象抽象为类，将可复用对象圈起来就是命名空间

